@import "tailwindcss";

/* 전체 레이아웃 기본값 */
html,
body,
#root {
    height: 100%;
}

body {
    margin: 0;
    background-color: #050509; /* 혹시 App 배경이 안 먹는 경우 대비 */
    color: #f9fafb;           /* text-slate-50 느낌 */
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
}

.auth-page {
    perspective: 800px; /* 값이 작을수록 3D 왜곡이 강해짐 */
    transform-style: preserve-3d;
}

:root {
    --color-accent: #e50914;
    --color-accent-dark: #b20710;
}

::selection {
    background: rgba(229, 9, 20, 0.8);
    color: #f9fafb;
}

/* --- 기존 (은은한) pop-in 이 있었다고 가정하고, 그대로 유지 --- */
@keyframes auth-pop-in {
    from {
        opacity: 0;
        transform: translateY(14px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* --- 더 동적인 버전: 파란 바에서 잡아당겨 올라오는 느낌 --- */
@keyframes auth-pull-up {
    0% {
        opacity: 0;
        transform:
                translate3d(0, 140%, -260px)  /* 더 아래 + 더 뒤에서 시작 */
                rotateX(32deg)                /* 위로 많이 젖혀진 상태 */
                rotateY(-14deg)               /* 한쪽으로 틀어진 상태 */
                scale(0.85);                  /* 더 작게 시작 */
        filter: blur(5px);
    }
    40% {
        opacity: 1;
        transform:
                translate3d(0, -24px, 70px)   /* 화면 앞으로 강하게 튀어나옴 */
                rotateX(-8deg)                /* 반대로 살짝 젖혀짐 */
                rotateY(8deg)                 /* 반대 방향으로 스윙 */
                scale(1.08);                  /* 오버슛 크게 */
        filter: blur(0);
    }
    70% {
        transform:
                translate3d(0, 6px, 12px)     /* 살짝 아래로 반동 + 약간 앞으로 */
                rotateX(2deg)
                rotateY(-3deg)
                scale(0.99);
    }
    100% {
        transform:
                translate3d(0, 0, 0)          /* 최종 위치 */
                rotateX(0deg)
                rotateY(0deg)
                scale(1);
    }
}

/* AuthPage 전환에 사용할 클래스 */
.auth-switch-pop {
    animation: auth-pull-up 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
    transform-origin: center center;
}

/* Auth 카드 전체가 모드 전환 시 동적으로 등장하도록 하는 클래스 */
.auth-card-switch {
    animation: auth-pull-up 0.7s cubic-bezier(0.22, 0.61, 0.36, 1);
    transform-origin: center center;
    transform-style: preserve-3d;
    backface-visibility: hidden;
}


@layer utilities {
    .hover-glow-red {
        position: relative;
        isolation: isolate; /* 글로우가 주변 요소에 섞이지 않게 */
    }

    .hover-glow-red::before {
        content: "";
        position: absolute;
        inset: -6px; /* 기본: 카드보다 살짝 크게 */
        border-radius: 0.75rem; /* 카드 모서리랑 비슷하게 */
        background:
                radial-gradient(circle at top, rgba(229, 9, 20, 0.6), transparent 60%),
                radial-gradient(circle at bottom, rgba(229, 9, 20, 0.35), transparent 65%);
        opacity: 0;
        transform: scale(0.95);
        transition:
                opacity 0.3s ease-out,
                transform 0.3s ease-out;
        z-index: -1; /* 카드 뒤로 */
    }

    /* 데스크탑: hover, 모바일/터치/키보드: active & focus-visible 도 함께 처리 */
    .hover-glow-red:hover::before,
    .hover-glow-red:active::before,
    .hover-glow-red:focus-visible::before {
        opacity: 1;
        transform: scale(1.03);
    }

    /* 작은 화면에서는 inset과 radius를 약간 줄여서 과한 번짐 방지 */
    @media (max-width: 640px) {
        .hover-glow-red::before {
            inset: -4px;
            border-radius: 0.5rem;
        }
    }
}